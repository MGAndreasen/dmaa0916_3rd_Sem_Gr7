@model Booking.Web.Models.BookingViewModel

@{
    ViewBag.Title = "Vælge Fra / Til";
}
<div id="Page_Afgange">
    <h2>Afgange</h2>
    <h4>@ViewBag.StatusMessage</h4>

    @using (Html.BeginForm("SelectDestination", "Afgange", FormMethod.Post, new { @class = "ny" }))
    {
        @Html.Label("Fra:", new { @class = "ny" });
        @Html.DropDownListFor(x => x.FromDestination, new SelectList(Model.Destinations, "Id", "Name"), new { @class = "ny" })

        @Html.Label("Til:", new { @class = "ny" });
        @Html.DropDownListFor(x => x.ToDestination, new SelectList(Model.Destinations, "Id", "Name"), new { @class = "ny" })

        <button type="submit" class="btn btn-default">Find</button>
    }

    @{ 
        if(Model.Departures.Count() > 0)
        {
            <p>Vi har sgu nogle afgange</p>
            foreach(var d in Model.Departures)
            {
                <p>@d.Id - @d.When</p>
            }
        }
        else
        {
            <p>Beklager, men vi har ingen afgange på denne Rute!</p>
        }
    }
</div>